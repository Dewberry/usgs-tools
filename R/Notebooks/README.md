# FEMA Region II - Discharge and Precipitation Calculation

This R Notebook accomplishes two goals - 1: calculate discharge for each USGS River and Tidal Gauge. 2: Calculates a cumulative precipitation amount for dozens of USGS River Gauges across various 2000-2018 storm events affecting FEMA Region II (NY, NJ, PR). The description below is related to goal 2.

For each storm event (i.e., NY Ernesto 2006), the R Notebook queries precipitation data from NOAAâ€™s Global Historical Climatology Network API. As there are hundreds of NOAA precipitation gauges located throughout FEMA Region II, these need to be aggregated in order to be associated with a single USGS River Gauge. This was accomplished using ArcGIS via spatial proximity (the nearest within-catchment NOAA Precipitation Gauge was associated with a USGS River Gauge). This workflow is not accounted for in the R Notebook.

Specifically, each USGS River Gauge is itself associated with a catchment area that was generated in StreamStats. The goal is to identify the cumulative precipitation for a storm event within a catchment area. Therefore, where several NOAA precipitation gauges intersect the catchment area of a USGS River gauge, ArcGIS is used to select the closest NOAA precipitation gauge situated *within* the catchment. Conversely, in instances where zero (0) NOAA precipitation gauges intersect the catchment area of a USGS river gauge, ArcGIS is used to select the closest NOAA precipitation gauge regardless of catchment area.

Following the geoprocessing in ArcGIS, the R notebook produces a matrix wherein one record represents a USGS river gauge (column), the nearest catchment-dependent NOAA precipitation gauge (row), and the cumulative rainfall for each storm event in NJ, NY, and PR (value). Note that VI was excluded from this analysis even though it is part of FEMA Region II due to lack of river gauges.
